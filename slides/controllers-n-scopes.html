<section>
  <h1>Les contrôleurs et les <code>$scope</code></h1>
  <h3>=</h3>
  <h3>UI logic</h3>
</section>

<section>
  <h2>Les contrôleurs</h2>
  <h2>&nbsp;</h2>
  <ul>
    <li class="fragment">Contiennent la 'logique' des vues</li>
    <li class="fragment">Interagissent avec le modèle et les services</li>
    <li class="fragment">Exposent le modèle aux vues au travers du <code>$scope</code></li>
  </ul>
  <h2>&nbsp;</h2>
  <h2>
    <strong class="fragment alert">Aucune manipulation de DOM au niveau des contrôleurs</strong>
  </h2>
  <h2><strong class="fragment neutral">C'est le rôle des directives</strong></h2>
</section>

<section>
    <p>Un contrôleur est associé à une vue</p>
    <p><strong>(directive <code>ng-controller</code>)</strong></p>
    <p>et permet de lui fournir un $scope</p>
    <pre><code>
&lt;div ng-controller=&quot;MainCtrl&quot;&gt;
&lt;/div&gt;

&lt;script&gt;
  var app = angular.module('myApp', []);

  app.controller('MainCtrl', function($scope) {
    // controller logic
  }
&lt;/script&gt;
    </code></pre>
</section>

<section>
  <h2><code>$scope</code></h2>
  <p>est la zone d'échange entre le contrôleur et la vue</p>
  <img src="img/concepts-databinding2.png" alt="">
  <p>
    <strong>Les scopes sont hierachisés</strong>, la racine est le <code>$rootScope</code>
  </p>
  <p>
    La hiérarchie des <code>$scope</code> reflète la hierarchie du DOM auquel ils sont rattachés
  </p>
</section>

<section>
  <h2>Lors de l'évaluation d'une expression</h2>
  <h4>&nbsp;</h4>
  <h2><pre><code style="text-align:center;">{{ name }}</code></pre></h2>
  <h4>&nbsp;</h4>
  <p>Angular recherche la propriéte "name"</p>
  <h3>
    dans le <code>$scope</code> attaché à l'élément DOM en cours
  </h3>
  <h2>&nbsp;</h2>
  <p>si elle n'est pas trouvée</p>
  <h3>Angular remonte la hierachie des <code>$scope</code> jusqu'au <code>$rootScope</code></h3>
</section>

<section>
  <h2>Demo : <a href="/demos/03-todotask/" target="_blank">Todolist</a></h2>
</section>
